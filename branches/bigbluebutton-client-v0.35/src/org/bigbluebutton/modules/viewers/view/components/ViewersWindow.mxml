<?xml version="1.0" encoding="utf-8"?>
<viewer:MDIWindow xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:viewer="flexlib.mdi.containers.*" 
	implements="org.bigbluebutton.common.IBbbModuleWindow"
	creationComplete="init()">

    <mx:Script>
        <![CDATA[
        	import mx.core.Application;
        	import org.bigbluebutton.common.Images;
        	import org.bigbluebutton.modules.viewers.view.mediators.ViewersWindowMediator;
        	import mx.collections.ArrayCollection;
		
			public static const TITLE:String = "Viewers";
			
			[Bindable]
			public var participants:ArrayCollection = new ArrayCollection();
  			
          	public var images:Images = new Images();
                      
   			[Bindable]
   			public var toggleIcon : Class = images.raisehand;
   			
   			[Bindable]
   			public var toggleTooltip : String = "Click to raise hand.";
   			
   			//Full screen?
			private var dispState:String;

			private var _xPosition:int;
			private var _yPosition:int;
			
			public function get xPosition():int {
				return _xPosition;
			}
			
			public function get yPosition():int {
				return _yPosition;
			}
			
			public function set xPosition(x:int):void {
				_xPosition = x;
			}
			
			public function set yPosition(y:int):void {
				_yPosition = y;
			}
						
			public function showError():void
			{
//				this.loginMessage.visible = true;
			}
			
			private function init():void{
				//Initialize full screen handler
				Application.application.stage.addEventListener(FullScreenEvent.FULL_SCREEN, fullScreenHandler);
				dispState = Application.application.stage.displayState;
			}
			
			private function fullScreenHandler(evt:FullScreenEvent):void {
				dispState = Application.application.stage.displayState + " (fullScreen=" + evt.fullScreen.toString() + ")";
				if (evt.fullScreen) {
					//Notify user that the keyboard is not working
					this.maximizeRestoreBtn.visible = false;
					if (this.maximized){
						this.restore();
					}
				} else{
					this.maximizeRestoreBtn.visible = true;
				}
			}
           
        ]]>
    </mx:Script>

    <!--mx:TileList id="participantsList" height="100%" width="100%" 
        	itemRenderer="org.blindsideproject.views.conference.UserItem"
            maxColumns="1" rowHeight="25" columnWidth="200" dataProvider="{conference.users}">
    </mx:TileList-->
    
    <mx:DataGrid id="viewersGrid" dataProvider="{participants}" editable="false" 
    	dragEnabled="false" width="100%" height="100%">
    	<mx:columns>
    		<mx:DataGridColumn dataField="role" headerText="" dataTipField="Role" editable="false" width="20"
    			itemRenderer="org.bigbluebutton.modules.viewers.view.components.RoleItemRenderer"/>
    		<mx:DataGridColumn dataField="name" headerText="Name" editable="true" width="100"
    			itemRenderer="org.bigbluebutton.modules.viewers.view.components.NameItemRenderer"/>
    		<mx:DataGridColumn dataField="status" headerText="Status"
    			itemRenderer="org.bigbluebutton.modules.viewers.view.components.StatusItemRenderer"/>
    	</mx:columns>
    </mx:DataGrid>
    
   <!-- <mx:ControlBar width="100%">
     	 <mx:Spacer width="100%"/>
    	 <mx:Button id="raiseHandImage" icon="{toggleIcon}" toggle="true" 
    	   			width="20" height="20"
    	   			toolTip="{toggleTooltip}" click="dispatchEvent(new Event(ViewersWindowMediator.CHANGE_STATUS))"/>   			
    </mx:ControlBar>  -->  
</viewer:MDIWindow>
