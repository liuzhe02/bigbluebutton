#summary Connecting !BigBlueButton to an external !FreeSWITCH server.

= Introduction =

This page provides instructions on how to connect !BigBlueButton to and external !FreeSWITCH server.


= Configurations =

Edit {{{/usr/share/red5/webapps/bigbluebutton/WEB-INF/bigbluebutton.properties}}}

{{{
freeswitch.esl.host=127.0.0.1
freeswitch.esl.port=8021
freeswitch.esl.password=ClueCon
}}}

Change {{{freeswitch.esl.host}}} to point to your external !FreeSWITCH ip address. Change {{{freeswitch.esl.password}}} to something else.

You can use [http://strongpasswordgenerator.com/] to generate passwords.


In your external FreeSWITCH server, edit {{{/opt/freeswitch/conf/autoload_configs/event_socket.conf.xml}}}.

{{{
<configuration name="event_socket.conf" description="Socket Client">
  <settings>
    <param name="nat-map" value="false"/>
    <param name="listen-ip" value="127.0.0.1"/>
    <param name="listen-port" value="8021"/>
    <param name="password" value="ClueCon"/>
    <!-- param name="apply-inbound-acl" value="localnet.auto"/ -->
  </settings>
</configuration>
}}}

Change the {{{listen-ip}}} to your external FreeSWITCH server IP and also change the {{{password}}} to be the same as {{{freeswitch.esl.password}}}.

Edit {{{/usr/share/red5/webapps/sip/WEB-INF/bigbluebutton-sip.properties}}}

{{{
bbb.sip.app.ip=127.0.0.1
bbb.sip.app.port=5070

sip.server.username=bbbuser
sip.server.password=secret

freeswitch.ip=127.0.0.1
freeswitch.port=5060
}}}

Change {{{bbb.sip.app.ip}}} to your !BigBlueButton server ip.

Change {{{sip.server.password}}} to something else.

Change {{{freeswitch.ip}}} to your external !FreeSWITCH ip.

In your external !FreeSWITCH server. 

Edit {{{/opt/freeswitch/conf/directory/default/bbbuser.xml}}}

{{{
  <user id="bbbuser">
    <params>
      <!-- omit password for authless registration -->
      <param name="password" value="secret"/>
      <!-- What this user is allowed to acces --> 
      <!--<param name="http-allowed-api" value="jsapi,voicemail,status"/> -->
    </params>
}}}

Change {{{password}}} to match the password you set in {{{sip.server.password}}}.

