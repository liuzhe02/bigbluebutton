#summary How to install  BigBlueButton on Ubuntu in under 15 minutes

<wiki:toc max_depth="2" />

= Installing !BigBlueButton using Ubuntu Packages =

*NOTE:* This is a holding page for the DRAFT instructions for installation of 0.71-beta. There will be an announcement in bigbluebutton-dev shortly when they are ready use.

As of !BigBlueButton 0.71 we support installation of Ubuntu packages on *Ubuntu 10.04 32-bit and 64-bit*.

Why only those distributions for the moment?  In a word: quality.  We want to have a really good reference implementation of !BigBlueButton that works out-of-the-box on a given setup for Ubuntu. 

== Prerequisites ==

You'll need the following prerequisits to install !BigBlueButton:

  # You'll need root access to your Ubuntu server.
  # The server needs 10G of free disk space
  # The server needs (a minimum) of 2G of memory.  
  # Port 80 must be unused

Note: !BigBlueButton uses nginx, which listens on port 80 for http access and tunneling.  If you have apache running, then you'll need to configure apache to listen on a different port.  To do this, edit `/etc/apache2/ports.conf` and change the entry for 80 to another number, such as 8081.  Avoid using 8080 in apache as !BigBlueButton uses tomcat6 which binds to that port.

== Setup a !BigBlueButton Server == 

First, we'll provide apt-get the key for the !BigBlueButton repository.

{{{
   # Add the package key
   wget http://archive.bigbluebutton.org/bigbluebutton.asc 
   sudo apt-key add bigbluebutton.asc 

   # add the archive for BigBlueButton Ubuntu 9.04 and make sure multiverse
   # is enabled
   echo "deb http://XXX.XXX.XXX.XXX/lucid bigbluebutton-lucid main" | sudo tee /etc/apt/sources.list.d/bigbluebutton.list
   echo "deb http://us.archive.ubuntu.com/ubuntu/ lucid multiverse" | sudo tee -a /etc/apt/sources.list
}}}


!BigBlueButton supports two voice conferencing servers: Asterisk and FreeSWITCH.  First, install ONE OF THESE conference servers (you don't need to install both).

If you want to use Asterisk, do the following:

{{{
   sudo apt-get update 
   sudo apt-get install bbb-voice-conference

}}}

If you want to use FreeSWITCH, do the following:

{{{
  sudo apt-get install python-software-properties 
  sudo add-apt-repository ppa:freeswitch-drivers/freeswitch-nightly-drivers
  sudo apt-get update
  sudo apt-get install bbb-freeswitch-config
}}}

At this point you have either Asterisk or FreeSWITCH installed.  We're now ready to install BigBlueButton.

{{{
   sudo apt-get install bigbluebutton
}}}

The {{{sudo apt-get install bigbluebutton}}} command is where all the magic happens.  This one command will install *all* of !BigBlueButton (except for desktop sharing, see below) along with all its dependencies.  Here's a screen shot of the packages it will install. 

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/install_ubuntu/add_packages.png

Enter 'Y'.  Then sit back.

After a few moments, if you don't have mysql installed, the mysql setup script will ask to specify a password for the mysql 'root' user.

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/install_ubuntu/setup_mysql.png

Enter a password for mysql's 'root' user (you'll need to enter it twice).  Almost immediately, the setup script for bbb-web will then ask you for that mysql root password; bbb-web needs to access the mysql to create the database for !BigBlueButton.  Give the the same password your did a moment ago.  

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/install_ubuntu/setup_bbb-web.png


== Post Installation ==

To ensure BigBlueButton has restarted cleanly, enter the following command:

{{{
   sudo bbb-conf --clean
   sudo bbb-conf --check
}}}


== Trying out your server ( 8:42 minutes later) ==

After a few moments, everything will be installed --- including the voice conference server using Asterisk.  You've got a full !BigBlueButton server up and running that you can use.  Open a web browser to the URL provided using the IP address of the VM.  


http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/vm-join.png


You are now running the same server as you'll find on-line at http://demo.bigbluebutton.org/.  (We setup our demo server using these packages.).  To start using your !BigBlueButton server, enter your and then click Join.  You'll join the default meeting.


http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/vm-bbb-running.png

= Troubleshooting =

== Wait!  It didn't work! ==
We've built in a !BigBlueButton configuration utility, called `bbb-conf`, to help you configure your !BigBlueButton server and trouble shoot your setup if something doesn't work right.

If you think something isn't working correctly, the first step is enter the following command.

{{{
   bbb-conf --check
}}}

The `--check` will check your setup to ensure the correct processes are running, the !BigBlueButton components have correctly started, and look for common configuration problems that might prevent !BigBlueButton from working properly.  For example, here's the output on one of our internal servers:

{{{
Server
                    Kernel version: 2.6.32 
                      Distribution: Ubuntu 10.04.1 LTS 32bit
                            Memory: 2000 MB

/var/www/bigbluebutton/client/conf/config.xml
                Port test (tunnel): 192.168.0.211
                              Red5: 192.168.0.211

/etc/nginx/sites-available/bigbluebutton
                       server name: 192.168.0.211
                              port: 80
                    bbb-client dir: /var/www/bigbluebutton

/var/lib/tomcat6/webapps/bigbluebutton/WEB-INF/classes/bigbluebutton.properties (bbb-web)
                      bbb-web host: 192.168.0.211

/var/lib/tomcat6/webapps/bigbluebutton/demo/bbb_api_conf.jsp (API demos)
                  bbb-web-api host: 192.168.0.211

/usr/share/red5/webapps/bigbluebutton/WEB-INF/red5-web.xml
                  voice conference: FreeSWITCH


** Potential problems described below **
}}}

If you see text after the line `** Potential problems descirbe below **`, then `bbb-conf` detected something wrong with your setup.

A common problem is the address in !BigBlueButton's configuration files is different than the IP address of the host server.  To change all of !BigBlueButton's configuration files to use a different IP address, enter

{{{
   bbb-conf --setip <ip_address>
}}}


== Keeping your server up-to-date with a new release ==

Want to keep your !BigBlueButton server up-to-date with the latest !BigBlueButton release?  No problem, just enter

{{{
  sudo apt-get update
  sudo apt-get dist-upgrade
}}}

and apt-get will download and install the released !BigBlueButton.  Don't you just love the power of Ubuntu/Debian packages.