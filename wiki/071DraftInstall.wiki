#summary How to install  BigBlueButton on Ubuntu in under 15 minutes

<wiki:toc max_depth="3" />

= Prerequisites =

This document contains instructions for installation !BigBlueButton 0.71-beta on a new server.  If you encounter problems with these instructions, please post questions/feedback/bugs to [http://groups.google.com/group/bigbluebutton-dev/topics?gvc=2 bigbluebutton-dev] (these packages are still in development).

If you want to upgrade from !BigBlueButton 0.70, please see [#Upgrading_from_BigBlueButton_0.70 Upgrading from BigBlueButton 0.70] below.

Before you install !BigBlueButton 0.71-beta, you'll need:
  # A Ubuntu 10.04 32-bit or 64-bit server
  # Root access to the server
  # 10G of free disk space
  # 2G of memory of memory
  # Port 80 must be free

Note: !BigBlueButton uses nginx, which listens on port 80 for http access and tunneling.  If you have apache running, then you'll need to configure apache to listen on a different port.  To do this, edit `/etc/apache2/ports.conf` and change the entry for 80 to another number, such as 8081.  Avoid using 8080 in apache as !BigBlueButton uses tomcat6 which binds to that port.  

= Installation of !BigBlueButton 0.71-beta on a new server =

== 1. Install the !BigBlueButton apt-get repository key  == 

First, install the !BigBlueButton repository key and URL. 

*Note:* The URL has changed from 0.70.

{{{
   # Install the package key
   wget http://archive.bigbluebutton.org/bigbluebutton.asc 
   sudo apt-key add bigbluebutton.asc 

   # Add the BigBlueButton repository URL and ensure the multiverse is enabled
   # is enabled
   echo "deb http://ubuntu.bigbluebutton.org/lucid/ bigbluebutton-lucid main" | sudo tee /etc/apt/sources.list.d/bigbluebutton.list
   echo "deb http://us.archive.ubuntu.com/ubuntu/ lucid multiverse" | sudo tee -a /etc/apt/sources.list
}}}

== 2. Install a Voice Conference Application == 

!BigBlueButton 0.71-beta now supports two voice servers: Asterisk and FreeSWITCH.  Both have configuration packages, so it's easy to install either one.  We recommend you use FreeSWITCH as it seems to scale better than Asterisk.

To install FreeSWITCH:
{{{
  sudo apt-get install python-software-properties 
  sudo add-apt-repository ppa:freeswitch-drivers/freeswitch-nightly-drivers
  sudo apt-get update
  sudo apt-get install bbb-freeswitch-config
}}}

Or, instead, to install Asterisk:
{{{
   sudo apt-get update 
   sudo apt-get install bbb-voice-conference

}}}



== 3. Install !BigBlueButton == 

We're now ready to install BigBlueButton.

{{{
   sudo apt-get install bigbluebutton
}}}

The {{{sudo apt-get install bigbluebutton}}} command is where all the magic happens.  This one command will install *all* of !BigBlueButton along with all its dependencies.  Here's a screen shot of the packages it will install. 

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/71apt-get.png

Enter 'Y'.  Then sit back.

After a few moments, if you don't have mysql installed, the mysql setup script will ask to specify a password for the mysql 'root' user.

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/mysql.png

Enter a password for mysql's 'root' user (you'll need to enter it twice).  Almost immediately, the setup script for bbb-web will prompt you for that mysql root password; bbb-web needs to access the mysql to create the database for !BigBlueButton.  Give the the same password your did a moment ago.  

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/71web.png


== 4. Do a Clean Restart == 

To ensure BigBlueButton has started cleanly, enter the following commands:

{{{
   sudo bbb-conf --clean
   sudo bbb-conf --check
}}}

The second command will check your current configuration to make sure everything has started correctly.

== Trying out your server ( 8:42 minutes later) ==

You've got a full !BigBlueButton server up and running.  (Don't you just love the power of Ubuntu/Debian packages.) Open a web browser to the URL of your server.  You should see the !BigBlueButton welcome screen.

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/71welcome.png

To start using your !BigBlueButton server, enter your name and then click Join.  You'll join the default meeting.

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/07bbb.png

You are now running the same server as you'll find on-line at http://demo.bigbluebutton.org/.  To create your own meeting rooms, see [http://code.google.com/p/bigbluebutton/wiki/FAQ#Can_I_run_multiple_virtual_classrooms_in_a_single_BigBlueButton How to setup multiple virtual classrooms].

= Upgrading from !BigBlueButton 0.70 =

If you are running !BigBlueButton 0.70 on Ubuntu 10.04 32-bit or 64-bit, you can upgrade your server with the following steps.

First, change the URL for the !BigBlueButton apt-get repository.

{{{
  echo "deb http://ubuntu.bigbluebutton.org/lucid/ bigbluebutton-lucid main" | sudo tee /etc/apt/sources.list.d/bigbluebutton.list
}}}

Next, update your packages

{{{
  sudo apt-get update
  sudo apt-get dist-upgrade
}}}

Finally, do a clean restart of !BigBlueButton and ensure that everything is running smoothly.

{{{
  sudo bbb-conf --clean
  sudo bbb-conf --check
}}}

You should now be running 0.71-beta.  

= Troubleshooting =


== Troubleshooting your setup ==
We've built in a !BigBlueButton configuration utility, called `bbb-conf`, to help you configure your !BigBlueButton server and trouble shoot your setup if something doesn't work right.

If you think something isn't working correctly, the first step is enter the following command.

{{{
   bbb-conf --check
}}}

The `--check` will check your setup to ensure the correct processes are running, the !BigBlueButton components have correctly started, and look for common configuration problems that might prevent !BigBlueButton from working properly.  For example, here's the output on one of our internal servers:

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/71check.png


If you see text after the line `** Potential problems descirbe below **`, then `bbb-conf` detected something wrong with your setup.

== Changing your !BigBlueButton server's hostname (or IP address) ==

A common problem is the address in !BigBlueButton's configuration files is different than the IP address of the host server.  To change all of !BigBlueButton's configuration files to use a different IP address, enter

{{{
   bbb-conf --setip <ip_address>
}}}