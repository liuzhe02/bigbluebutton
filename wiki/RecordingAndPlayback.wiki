#summary This page contains information about the recording and playing back sessions for the BigBlueButton system
= Introduction =

The main idea for recording a session on BigBlueButton system is to create listners for the different streams of the applications that exists on the BigBlueButton system (i.e. chat stream, presenation stream, whiteboard stream, etc).

The recorder part is another Red5 server application. It listens to all the events that are exchanges via the  BigBlueButton applications' shared objects (i.e. charSO, presentaionSO, etc). 

Each shared object has its own set of messages that can be found on the BigBlueButton client code. We can spacify what type of messages we want to capture via our recoder. 

The recorede session is stored in a folder contains an XML file to save the captured events for playback, a folder to save the presentaion slide (if any), and an audio file (MP3 fprmat) for the recorded session (but now we are just passing a link to the session recording on the Asterisk server)


== XML schema for the recorded session ==

Various types of events are getting recorded for each stream on the BigBlueButton application. Each stream is tagged according to the stream and the evemt related to it. 
 
 * Chat Stream: Chat captured events are only the message received for a new txt being sent. The message contains the text, the color, time and the user name. Example of the recorded event,
        {{{
         <chat time="1220463763244" user="Denis" color= "0">slide 5</chat>
        }}} 

 * Presenation Stream tags

 * Conference Stream tags: TODO

 * Audio Steam tags: TODO

 * Whiteboard Stream tags: TODO

 * Video Stream tags: TODO

 * Other tags:

== Example of the XML file for a recorded session ==

{{{

<!-- versrion 0.1 vcr -->
<lecture host="134.117.58.103" room="85115" start="1220463733632">
<par>
<seq>
<presentation event="presenter" time="1220463733692" userid="12" name="Denis"/>
<presentation event="conversion"time="1220463733702" slide="20" total="20"/>
<presentation event= "sharing" time="1220463733702" share="false"/>
<presentation event="presenter" time="1220463733702" userid="12" name="Denis"/>
<presentation event="conversion"time="1220463733702" slide="20" total="20"/>
<presentation event= "sharing" time="1220463733702" share="false"/>
<presentation event="presenter" time="1220463733702" userid="12" name="Denis"/>
<presentation event="conversion"time="1220463733702" slide="20" total="20"/>
<presentation event= "sharing" time="1220463733702" share="false"/>
<presentation event="presenter" time="1220463733702" userid="12" name="Denis"/>
<presentation event="conversion"time="1220463733702" slide="20" total="20"/>
<presentation event= "sharing" time="1220463733702" share="false"/>
<presentation event="presenter" time="1220463733702" userid="12" name="Denis"/>
<presentation event="conversion"time="1220463733702" slide="20" total="20"/>
<presentation event= "sharing" time="1220463733702" share="false"/>
<presentation event="presenter" time="1220463736165" userid="19" name="Denis"/>
<presentation event="conversion"time="1220463741824" slide="1" total="20"/>
<presentation event="conversion"time="1220463743005" slide="3" total="20"/>
<presentation event="conversion"time="1220463744237" slide="5" total="20"/>
<presentation event="conversion"time="1220463745849" slide="7" total="20"/>
<presentation event="conversion"time="1220463747842" slide="10" total="20"/>
<chat time="1220463748213" user="Test01" color= "13369344">red color</chat>
<presentation event="conversion"time="1220463748703" slide="12" total="20"/>
<presentation event="conversion"time="1220463749334" slide="14" total="20"/>
<presentation event="conversion"time="1220463749865" slide="16" total="20"/>
<presentation event="conversion"time="1220463751347" slide="19" total="20"/>
<presentation event="slides_created" time="1220463751858">
<presentation event="slide" name="85115-slide-1.swf"/>
<presentation event="slide" name="85115-slide-2.swf"/>
<presentation event="slide" name="85115-slide-3.swf"/>
<presentation event="slide" name="85115-slide-4.swf"/>
<presentation event="slide" name="85115-slide-5.swf"/>
<presentation event="slide" name="85115-slide-6.swf"/>
<presentation event="slide" name="85115-slide-7.swf"/>
<presentation event="slide" name="85115-slide-8.swf"/>
<presentation event="slide" name="85115-slide-9.swf"/>
<presentation event="slide" name="85115-slide-10.swf"/>
<presentation event="slide" name="85115-slide-11.swf"/>
<presentation event="slide" name="85115-slide-12.swf"/>
<presentation event="slide" name="85115-slide-13.swf"/>
<presentation event="slide" name="85115-slide-14.swf"/>
<presentation event="slide" name="85115-slide-15.swf"/>
<presentation event="slide" name="85115-slide-16.swf"/>
<presentation event="slide" name="85115-slide-17.swf"/>
<presentation event="slide" name="85115-slide-18.swf"/>
<presentation event="slide" name="85115-slide-19.swf"/>
<presentation event="slide" name="85115-slide-20.swf"/>
</presentation>
<presentation event= "sharing" time="1220463752439" share="true"/>
<presentation event="gotoPage" time="1220463754362" Slide="0"/>
<chat time="1220463757696" user="Denis" color= "0">slide 1</chat>
<presentation event="gotoPage" time="1220463760350" Slide="4"/>
<chat time="1220463763244" user="Denis" color= "0">slide 5</chat>
<presentation event="zoom" time="1220463764546" values=" [1.0810055865921788, 1.0966666666666667]"/>
<presentation event="zoom" time="1220463764927" values=" [1.164804469273743, 1.1966666666666668]"/>
<chat time="1220463768262" user="Denis" color= "0">zoom</chat>
<presentation event="move" time="1220463769654" values=" [-0.09217877094972067, -0.04666666666666667]"/>
<presentation event="move" time="1220463769694" values=" [-0.09497206703910614, -0.05]"/>
<presentation event="move" time="1220463769714" values=" [-0.17597765363128492, -0.08666666666666667]"/>
<presentation event="move" time="1220463770385" values=" [-0.25977653631284914, 0.023333333333333334]"/>
<presentation event="move" time="1220463770465" values=" [-0.11452513966480447, -0.02]"/>
<presentation event="move" time="1220463770465" values=" [-0.11173184357541899, -0.023333333333333334]"/>
<chat time="1220463773339" user="Denis" color= "0">move</chat>
<presentation event="maximize" time="1220463776433"/>
<presentation event="restore" time="1220463779568"/>
<presentation event="gotoPage" time="1220463782672" Slide="5"/>
<chat time="1220463789692" user="Denis" color= "65280">green</chat>
<audio scr="http://134.117.254.226/recordings/mp3/conference_recording-1219949695-TTMG5901.mp3"/>
</seq>
</par>
</lecture>

}}}