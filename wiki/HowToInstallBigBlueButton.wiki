#summary How to setup your own BigBlueButton Server (Windows)

= Overview =
There are two main servers in a BigBlueButton setup
* Application server - this server runs Red5, Tomcat, and ActiveMQ, and serves up the BigBlueButton Flash client
* Asterisk Server - this server provides the voice conferencing.  The Application server (specifically Red5) communicates with the Asterisk server using AsteriskJava.



= Setting up the BigBlueButton Server =
While these instructions are for setting up a BigBlueButton server on a Windows machine, there is no specific requirement on what type of machine or OS is needed. If your machine has enough processor and memory (at least 512MB), has Java installed, you're good to go.


== Create Directories ==
 1. Create {{{c:\tools}}} - will be referred to as {{{TOOLS_DIR}}} for the rest of this document.  For example, if this document says "Set an environment variable to {{{TOOLS_DIR\apache-ant-1.7.0}}}", you would set it to {{{c:\tools\apache-ant-1.7.0}}}.
 1. Create {{{c:\source\client}}} - will be referred to as {{{CLIENT_DIR}}} for the rest of this document
 1. Create {{{c:\source\server}}} - will be referred to as {{{SERVER_DIR}}} for the rest of this document
 1. Create {{{c:\tools}}} - will be referred to as {{{TOOLS_DIR}}} for the rest of this document.  For example, if this document says "Set an environment variable to {{{TOOLS_DIR\apache-ant-1.7.0}}}", you would set it to {{{c:\tools\apache-ant-1.7.0}}}.
You'll also need to know the host name, referred to as {{HOSTNAME}}, for your server.


== Download and Install Software ==
Note
* Some of the version numbers may differ -- download the latest versions.


=== Java Development Kit ===
 1. Download [http://java.sun.com/javase/downloads/index.jsp JDK 6] installer
 1. Install into {{{TOOLS_DIR}}} - e.g. {{{TOOLS_DIR\jdk1.6.0_06}}}
 1. Click {{{Start -> Control Panel -> System -> Advanced tab -> Environment Variables}}} on your computer.
 1. Add {{{JAVA_HOME}}} in your system variables - e.g {{{JAVA_HOME = TOOLS_DIR\jdk1.6.0_06}}}
 1. Open a command prompt and run {{{java -version}}}. You should see the java version displayed.


=== Ant ===
 1. Download the [http://ant.apache.org Ant] ZIP file.
 1. Uncompress the ZIP file into {{{TOOLS_DIR}}} - e.g. {{{TOOLS_DIR\apache-ant-1.7.0}}}.
 1. Click {{{Start -> Control Panel -> System -> Advanced tab -> Environment Variables}}} on your computer.
 1. Add {{{ANT_HOME}}} in your system variables - e.g {{{ANT_HOME = TOOLS_DIR\apache-ant-1.7.0}}}
 1. Add {{{ANT_HOME\bin}}} to your PATH - e.g. {{{TOOLS_DIR\apache-ant-1.7.0\bin}}}.
 1. Open a command prompt and run {{{ant -version}}}.  You should see the ant version displayed.


=== Tomcat ===
 1. Download [http://tomcat.apache.org Tomcat] ZIP file
 1. Uncompress the ZIP file into {{{TOOLS_DIR}}} - e.g. {{{TOOLS_DIR\apache-tomcat-6.0.16}}}
 1. Open a command prompt and cd to {{{TOOLS_DIR\apache-tomcat-6.0.16}}}
 1. Run {{{bin\catalina.bat start}}}
 1. Open your browser and go to {{{http://HOSTNAME:8080}}}
 1. You should see the Tomcat welcome page displayed.

=== ActiveMQ ===
 1. Download [http://activemq.apache.org ActiveMQ]
 1. Install activeMQ in {{{TOOLS_DIR}}} - e.g. {{{TOOLS_DIR\activemq-5.1.0}}}
 1. Open a command prompt and cd to {{{TOOLS_DIR\activemq-5.1.0}}}
 1. Run {{{bin\activemq}}}
 1. You should set the AcitveMQ startup messages with no errors.

=== SWF Tools and PDF Toolkit===
 1. Download [http://www.swftools.org SWF Tools]
 1. Download [http://www.accesspdf.com/pdftk PDF Toolkit]
 1. Install in {{{TOOLS_DIR\swftools}}}
 1. Add {{{SWFTOOLS_HOME = TOOLS_DIR\swftools}}} in you environment variables
 1. Add {{{SWFTOOLS_HOME}}} to your PATH


= Setting up the Asterisk Server =

== Asterisk ==
On a separate server, 
 1. Download and install the latest version of Asterisk from [http://www.asterisk.org/downloads Asterisk website].
 1. Configure Asterisk using [http://blindside.googlecode.com/svn/trunk/asterisk sample conf].

You'll need to setup a username and password for the Asterisk Management Interface (ami).

= Checking out the Blindside Components =

== Checkout code ==
 1. Checkout blindside-server and blindside-servlet from [http://blindside.googlecode.com/svn/trunk/ code repository] on your Eclipse IDE and put into {{{SERVER_DIR}}}.
 1. Download the latest client from [http://code.google.com/p/bigbluebutton/downloads/list Downloads]
 1. Uncompress the client to the {{{SERVER_DIR\blindside-server\webapps}}} folder.
 1. Edit {{{SERVER_DIR\blindside-server\webapps\BigBlueButton.html}}} and change the value of {{{localhost}}} with your HOSSTNAME .
  *    so.addVariable("red5Host", "localhost");
  *    so.addVariable("presentationHost", "localhost");



== Running Blindside ==
 1. Edit {{{SERVER_DIR\blindside-servlet\war\WEB-INF\blindside.properties}}}.
  * swftoolLocation=c:/tools/pdf2swf (Edit to point to your pdf2swf executable)
  * pdfExtractor=c:/tools/pdftk (Edit to point to your pdftk executable)
  * presBaseDirectory=c:/temp/upload (directory where uploaded slides are extracted)
  * extractedFolder=extracted
 1. Edit {{{SERVER_DIR\blindside-server\webapps\astmeetme\WEB-INF\astmeetme.properties}}} with your Asterisk Management Interface (AMI) values.
  * These properties are for Asterisk Management Interface (AMI)
  * ami.host=134.117.62.208
  * ami.port=5038
  * ami.username=astmeetme
  * ami.password=astpassword

=== Build BigBlueButton WAR file ===
 1. Open a new command window.
 1. Change directory to {{{SERVER_DIR\blindside-server}}} 
 1. Edit {{{SERVER_DIR\blindside-server\webapps\conference\conferences\conferences.xml}}} to create conference rooms. Make sure <name> has an equivalent entry in your Asterisk's {{{meetme.conf}}} file.
	<conference-room>
	    <name>85101</name>
	    <mod-password>modpass</mod-password>
	    <view-password>viewpass</view-password>
	</conference-room>
 1. Type {{{ant server}}} to build the BigBlueButton WAR file.  This will build {{{bigbluebutton.war}}}.


=== Deploy WAR file to Tomcat server
 1. Open a new command window.
 1. Change directory to {{{SERVER_DIR\tomcat-5.1.0}}} 
 1. copy {{{bigbluebutton.war}}} to {{{SERVER_DIR\tomcat-5.1.0\webapps}}} to deploy it to your Tomcat server.

=== Start ActiveMQ ===
 1. Open a command window and start ActiveMQ.

 1. Open another command window and start Tomcat.
 1. Open another command window and change directory to {{{SERVER_DIR\blindside-servlet}}} and build it by typing {{{ant warfile}}}. This will generate {{{blindside.war}}}.
 1. Open {{{CLIENT_DIR\blindside-client\html-template\index.template.html}}} change value of {{{red5Host}}} to your blindside-server and {{{presentationHost}}} to your tomcat-server.
 1. Run the {{{blindside-client}}} from your Flex IDE.
 1. Login using information you provided in {{{conferences.xml}}}.
 1. Convert a Powerpoint slide to PDF using OpenOffice or another tool.
 1. Upload the converted PDF slides to share presentation.