#summary How to setup your own BigBlueButton Server (Windows)

= Overview =
These instructions show how to setup BigBlueButton server for Windows.  While there is no specific OS requirement for BigBlueButton, BigBlueButton runs on Mac and Windows as well (hey, its open source!), if you are running Windows XP (or above) with at least 1GB of memory, you're good to go.

There are four servers to run for BigBlueButton:
  * bigbluebutton server (built on red5)
  * asterisk server
  * activeMQ server
  * tomcat server

Note: These instructions don’t go into details on setting up an Asterisk server.  For now, you don't need an Asterisk server running to setup and use BigBlueButton; however, if you want an integrated voice conference server, you'll need to setup Asterisk as well.

For the tomcat server, there are two additional components to install:
  * bigbluebutton.war (which handles the upload of slies) 
  * client.zip (a ZIP file containing the client)
  
For bigbluebutton.war, there are two supporting command-line applications used to convert PDF slides to SWF images:
  * pdftk (breaks up PDF files into individual pages)
  * pdf2swf (converts a PDF file to SWF)

Here's a diagram that gives an overview of how these components work together.

http://present.carleton.ca:8080/files/docs/images/bbb-overview.png


= Installing Components =

Before you begin, you'll need to create some directories.  Note: The instructions use the {{{c:}}} drive, but you can use any drive for installation.

  1. Create {{{c:\tools}}} - referred to as {{{TOOLS_DIR}}} for the rest of these instructions.  For example, if you wanted to set the environment variable PDFTK_HOME to point to {{{TOOLS_DIR\pdftk}}},  set it to {{{c:\tools\pdftk}}}.
  1. Create {{{c:\temp}}} - referred to as {{{TEMP_DIR}}}.  
 
You will also need to know the host name (or IP address) of your server, referred to as {{{HOSTNAME}}}.  Note: This could be a fully qualified domain name, such as mycomputer.network.com, or an IP address.


== Install Software ==
For the downloads below, just grab the latest version of each open source component.  If your server already has a component, such as pdftk, you can skip that step.


=== Java Development Kit ===
  1. Download the [http://java.sun.com/javase/downloads/index.jsp JDK 6] installer
  1. Install the JDK to {{{TOOLS_DIR}}} - e.g. {{{TOOLS_DIR\jdk}}}
  1. Click {{{Start -> Control Panel -> System -> Advanced tab -> Environment Variables}}} on your computer.
  1. Add a system variable {{{JAVA_HOME}}} pointing to {{{JAVA_HOME = TOOLS_DIR\jdk}}}
  1. Open a command prompt and run {{{java -version}}}. You should see the java version (JDK 1.6 or above) displayed.


=== ActiveMQ ===
  1. Download [http://activemq.apache.org ActiveMQ] version 5.1.0
  1. Install activeMQ in {{{TOOLS_DIR}}} - e.g. {{{TOOLS_DIR\activemq}}}
  1. Open a command prompt and {{{cd}}} to {{{TOOLS_DIR\activemq\bin\win32}}}
  1. Run {{{activemq.bat}}}
  1. You should set the AcitveMQ startup messages with no errors.

=== Tomcat ===
  1. Download [http://tomcat.apache.org Tomcat] version 5.5.27 ZIP file
  1. Uncompress the ZIP file into {{{TOOLS_DIR}}} - e.g. {{{TOOLS_DIR\tomcat}}}
  1. Open a command prompt and {{{cd}}} to {{{TOOLS_DIR\tomcat\bin}}}
  1. Run {{{catalina.bat start}}}
  1. Open your browser and go to {{{http://HOSTNAME:8080}}}
  1. You should see the Tomcat welcome page displayed.

Note: Tomcat installs on port 8080 by default.  You can, of course, change tomcat's settings to listen on port 80.  If you change the settings, you can omit the port 8080 qualifer from the rest of these instructions.


=== SWF Tools and PDF Toolkit ===
  1. Download [http://www.swftools.org SWF Tools] version 0.8.1
  1. Install in {{{TOOLS_DIR\swftools}}}
  1. Download [http://www.accesspdf.com/pdftk PDF Toolkit] version 1.12
  1. Install in {{{TOOLS_DIR\pdftk}}}

== Download BBB ==

=== BigBlueButton Client ===
  1. Download the latest [http://code.google.com/p/bigbluebutton/downloads/list bigbluebutton-client] ZIP file
  1. Unzip the client into {{{TOOLS_DIR\tomcat\webapps\ROOT\client}}}.  
 
If you’ve left the tomcat server running, you should be able to open http://HOSTNAME:8080/client and see the login screen.  Note, you won't be able to login yet -- we need to get a few more components going.

=== BigBlueButton Servlet ===
  1. Download bigbluebutton.war from [http://code.google.com/p/bigbluebutton/downloads/list]
  1. Put into {{{TOOLS_DIR\tomcat\webapps}}}

=== BigBlueButton Server ===
  1. Download bbb-server from the latest [http://code.google.com/p/bigbluebutton/downloads/list] and put in {{{TOOLS_DIR\bbb-server}}}. You can use [http://www.7-zip.org/ 7-zip] to extract it.
  1. Download bigbluebutton-apps and extract it in {{{TOOLS_DIR\bbb-server\webapps}}}. 

= Setting up the Asterisk Server =

== Asterisk ==
You'll need to setup an asterisk server (though not required if you don't want voice conferencing).  We'll refer to the host name for the asterisk server as {{{ASTERISK_HOSTNAME}}}.

  1. Download and install the latest version of Asterisk from [http://www.asterisk.org/downloads Asterisk website].


= Configure Components =

== Configure bigbluebutton.war ==
  1. Edit {{{TOOLS_DIR\tomcat/webapps\bigbluebutton\WEB-INF\bigbluebutton.properties}}}.
{{{
    swftoolLocation=c:/tools/swftools/pdf2swf (Edit to point to your pdf2swf executable)
    pdfExtractor=c:/tools/pdftk/pdftk (Edit to point to your pdftk executable)
    presBaseDirectory=c:/temp/upload (directory where uploaded slides are extracted)
    extractedFolder=extracted
}}}

== Configure BigBlueButton server ==
  1. Edit {{{TOOLS_DIR\bbbb-server\webapps\astmeetme\WEB-INF\astmeetme.properties}}} with your Asterisk Management Interface (AMI) values.  (Note: If you don’t have asterisk running you can skip this step.)  These properties are for Asterisk Management Interface (AMI)
{{{
    ami.host=ASTERISK_HOSTNAME
    ami.port=5038
    ami.username=<your_ami_username>
    ami.password=<your_ami_password>
}}}
  1. Edit {{{TOOLS_DIR\bbb-server\webapps\conference\conferences\conferences.xml}}} to create conference rooms. Make sure <name> has an equivalent entry in your Asterisk's {{{meetme.conf}}} file.  You can use the default settings for now.
{{{
    <conference-room>
        <name>85101</name>
        <mod-password>modpass</mod-password>
        <view-password>viewpass</view-password>
    </conference-room>
}}}


= Start Servers =

== Start activeMQ server ==
If not already running, start the activeMQ server.
  1. Open a new command window.
  1. Change directory to {{{TOOlS_DIR\activeMQ\bin}}} 
  1. type {{{activemq.bat}}}
 
== Start tomcat server ==
If not already running, start the tomcat server.
  1. Open a new command window.
  1. Change directory to {{{TOOlS_DIR\tomcat\bin}}} 
  1. type {{{catalina.bat start}}}

== Start BigBlueButton server ==
  1. Open a new command window.
  1. Change directory to {{{TOOLS_DIR\bbb-server}}} 
  1. type {{{red5.bat}}}
 
This will start the red5 server.  

= Launch BigBlueButton client. =
  1. Using a web browser, open the URL {{{http://HOSTNAMEL8080/client/BigBlueButton.html}}} (tomcat is case sensitive).  You should see the BigBlueButton client login.

Login with
{{{
    name: <your name>
    Conference ID: 85101
    password: modpass
}}}