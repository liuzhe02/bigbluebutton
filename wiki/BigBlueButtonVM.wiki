#summary How to setup your own BigBlueButton Virtual Machine


= Introduction =

What a quick overview, check out the [http://bigbluebutton.org/sites/all/videos/bbb-vm/index.html Setting up a BigBluebutton VM] video. 

== Running BigBlueButton as a VM ==

Many users have told us they wanted to run their own version BigBlueButton.  Developers have asked us for ways to shorten the edit-compile-check cycle when making changes to the BigBlueButton source.

In response to these requests, we've created a Ubuntu-based virtual machine (VM) that makes it easy for anyone to download and run a BigBlueButton server.  The VM runs under VMWare Player, which is available on Unix, Windows, or Mac. This VM is a fully working version of the BigBlueButton Server. It has a full development environment preconfigured so you to check out code from BigBlueButton Google Code repository, make local changes, and, with a single command, re-compile the code and see it run in your VM.
  
Prerequisites:
  * VMWare Player (or VMWare Workstation) for Windows or Unix, or VM Fusion for Mac
  * VMWare Fusion for Mac
  * Ability for the VM to acquire an IP address through DHCP on boot

=== Instructions ===

  1.  Download and uncompress the latest [http://bigbluebutton.org/downloads/bigbluebutton-vm.zip bigbluebutton-vm.zip]
  2.  Uncompress bigbluebutton-vm.zip and open the enclosed *ubuntu-vmw6* folder.

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/vm_icons.png

  3.  Double-click on the bigbluebutton-vm.vmx icon.  This will start VMWare Player (or VMWare Workstation).

The BigBlueButton VM takes about 10 minutes to first initialize.  Sit back, relax, go watch some youtube videos.  During this time, the BigBlueButton VM goes through an initial startup script that 

  * Installs a software timer for Asterisk (this allows you to use a VoIP phone to connect)
  * Installs the BigBlueButton packages
  * Configures BigBlueButton to use the VM's current IP address
  * Installs OpenSSH

When it's done, you'll see a message that asks you to login and change the password.

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/vm_boot.png

The VM has a default account called *firstuser*, with password *default*.  To secure your server, take a moment to login as firstuser.  After you enter the password, you'll be be immediately asked to enter the the password again and then enter a new password.  

After resetting the default password, you'll get the following welcome message each time you login as firstuser.

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/vm-welcome.png

== Running BigblueButton ==

At this point, you've got a full BigBlueButton server up and running.  Open a web browser to the URL provided in the login message for first user.  
  
http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/vm-join.png

Click the Join button and you'll be prompted to join the default conference 85115.  Enter whatever name you like and then *mp* for moderator password, or *ap* for attendee password.

== Updating the BigBlueButton VM == 

All the BigBlueButton components are installed as Ubuntu packages that are automatically built by our [http://bigbluebutton.org/hudson continuous integration server] from the head of the BigBlueButton Google Code repository.

When this VM was assembled, it was using the latest packages.  However, BigBlueButton is under active development and these packages are updating frequently. 

To update the VM with the latest components, do the following.

Login as firstuser (using your password of course!) and enter the following commands:
{{{
  # apt-get update
  # apt-get upgrade
}}}

http://bigbluebutton.googlecode.com/svn/trunk/bbb-images/vm/vm-apt-get-upgrade.png

== Modifying BigBlueButton == 

We've included all the development tools in this VM to compile and deploy the source for bigbluebutton-client, bigbluebutton-web, and bigbluebutton-apps. What are these components?  Take a moment and watch the [http://bigbluebutton.org/sites/all/videos/arch_overview/index.html BigBlueButton overview video].


=== Change IP address of BigBlueButton Server ===

The VM will automatically setup BigBlueButton components to use the IP address on first boot.  If you need to change the IP address of the server, we've provided a utility to let you change the configuration files for BigBlueButton to use the new IP address.

For example, to change the IP address for BigBlueButton configuration files to use 192.168.0.125, do the following

{{{

  $ sudo bbb-setip -h 192.168.0.125

}}}

If you want to change the default port as well, for example to have BigBlueButton listen on port 8000 (instead of 80), do the following

{{{

  $ sudo bbb-setip -h 192.168.0.125 -p 8000

}}}

=== Setup Development Environment ===

To setup your development environment, do the following

#  Login as firstuser (you'll be prompted to change the password if you haven't done so already).

If you are on windows and want to use an editor (such as Eclipse) to modify the source on the VM, then we've included a tool to share the dev folder:

#  Type

{{{

  $ sudo bbb-setupdev -s

}}}

This will share your dev folder via samba.

=== Setup Development Environment ===

To checkout the code and setup your development environment, do the following

#  Type

{{{
   $ bbb-setupdev -d
}}}

This will checkout 

# bigbluebutton-dev
# bigbluebutton-client
# bigbluebutton-apps

Where to go for help

Submit your questions and feedback to the bigbluebutton-dev mailing list.  This way, we can quickly fix any errors and improve the VM based on your feedback.



FAQ

Q: Something is not working in the VM ... where can I go for help.

A: The best source is to post to the bigbluebutton-dev mailing list.

Q: Which log files should I check for errors?

A: Check in the following files

  # /var/lib/tomcat6/logs/localhost*
  # /usr/share/red5/logs

Run asterisk with -vrrrrrrrrrrrrrrr